@if index($uso-classes, modal) {
/*
================================================================================
MODAL
================================================================================
*/
}
// =============================================================================
// Framework da Assembleia Legislativa
// Autor: Alessandro Guarita
// -----------------------------------------------------------------------------
// modal.scss
// Criado em: 01/07/2015
// Última alteraçãom em: 23/11/2015
// -----------------------------------------------------------------------------
// Definição dos padrões de modal
// -----------------------------------------------------------------------------
// Changelog:
// 23/11/2015 | Alterado tipos para "tipo-x" ao invés de um nome diferente
// 							por tipo
// 17/11/2015 | Utilizada nova forma chamar as classes
// 05/11/2015 | Adaptado para o novo padrão
//              Inclusão de dois modelos
// 01/07/2015 | Criado o arquivo
// =============================================================================

// =============================================================================
// VARIÁVEIS
// =============================================================================
$padding-modal-interno: $margem * 2;

// =============================================================================
// SUBITENS DA MODAL
// -----------------------------------------------------------------------------
// Aqui está cada seção que vai receber uma classe. Ao criar a classe .modal
// será criada cada uma das classes abaixo (sem seletor aninhado).
// Ex: .modal--titulo
// =============================================================================
$modal-sub: (
  janela,
  titulo,
  fechar,
  conteudo,
  acoes,
);

// =============================================================================
// PLACHEHOLDERS | Configurações básicas
// =============================================================================
%modal--basico {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: fade-out(cor(modal, fundo), .15);
  z-index: z(modal);
  overflow: hidden;
}
// -----------------------------------------------------------------------------
// JANELA
// -----------------------------------------------------------------------------
%modal__janela {
  @include centraliza-caixa;
  background: cor(fundo, x-claro);
  box-shadow: $sombra-modal;
  overflow: auto;
  @media (max-width: breakpoint(medio)) {
    width: 100%;
    height: 100%;
  }
  @media (min-width: breakpoint(medio)) {
    max-width: 85%;
  }
}
// -----------------------------------------------------------------------------
// TÍTULO
// -----------------------------------------------------------------------------
%modal__titulo {
  padding: $margem $padding-modal-interno;
  h1 {
    text-transform: uppercase;
    font-size: rem(22);
  }
}
// -----------------------------------------------------------------------------
// FECHAR
// -----------------------------------------------------------------------------
%modal__fechar {
  a {
    @extend %link-block;
    transition: $transition;
  }
}
// -----------------------------------------------------------------------------
// CONTEUDO
// -----------------------------------------------------------------------------
%modal__conteudo {
  @include flex-grow(1);
  padding: $padding-modal-interno;
}
// -----------------------------------------------------------------------------
// ACOES
// -----------------------------------------------------------------------------
%modal__acoes {
  padding: $padding-modal-interno;
  text-align: right;
  * + * {
    margin-left: $padding-modal-interno;
  }
}

// =============================================================================
// PLACHEHOLDERS | Tipos
// =============================================================================
%modal--tipo-1 {
  @extend %modal--basico;
  %modal__titulo {
    @extend %flex;
    @include align-items(baseline);
    background: cor(modal, titulo-fundo);
    h1 {
      @include flex-grow(1);
      color: cor(texto, claro);
      margin: 0;
      font-family: $fonte-sem-serifa;
    }
  }
  %modal__fechar {
    a {
      color: cor(texto, claro);
      &:hover {
        text-shadow: 0 0 7px fade-out(cor(fundo, sombra), .3);
      }
    }
  }
}

%modal--tipo-2 {
  @extend %modal--basico;
  %modal__titulo {
    h1 {
      text-align: center;
      color: cor(modal, titulo-texto);
      width: calc(100% - #{$padding-modal-interno})
    }
  }
  %modal__fechar {
    position: fixed;
    right: $padding-modal-interno;
    top: 1rem;
    a {
      padding: .3em .5em;
      font-size: 60%;
      color: cor(modal, titulo-texto);
      &:hover {
        box-shadow: $sombra-botao;
      }
    }
  }
}

// =============================================================================
// CLASSES
// =============================================================================
@if index($uso-classes, modal) {
  .modal--oculta {
    @extend .oculta;
  }
  .modal {
    @extend %modal--#{$modal-tipo};
    @each $item in $modal-sub {
      &__#{$item} {
        @extend %modal__#{$item} !optional;
      }
    }
  }
}
